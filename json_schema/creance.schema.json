{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/creance.schema.json",
    "title": "Créance",
    "description": "Un créance est un montant dû par un débiteur à un créancier. Il s'agit d'un type de dossier",
    "type": "object",
    "properties": {
        "id" : {
            "description" : "identifiant de la créance",
            "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/reference.schema.json"
        },
        "statut" : {
            "enum" : [ "due", "impayeDefinitif"]
        },
        "debiteur" : {
            "required": ["type"],
            "oneOf": [
                { "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personnePhysique.schema.json" },
                { "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personneMorale.schema.json" }
            ]
        },
        "debiteurSecondaire" : {
            "required": ["type"],
            "oneOf": [
                { "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personnePhysique.schema.json" },
                { "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personneMorale.schema.json" }
            ]
        },        
        "creancier" : {
            "required": ["type"],
            "oneOf" : [
                { "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personnePhysique.schema.json" },
                { "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personneMorale.schema.json" }
            ]
        },
        "montantDu" : {
            "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/montantDu.schema.json"
        },
        "origine" : {
            "type" : "object",
            "title" : "origine de la créance",
            "description" : "plusieurs origine sont possibles : crédit...",
            "oneOf" : [
                {
                    "properties" : {
                        "credit" : {
                            "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/credit.schema.json"
                        }
                    }
                }
            ]
        }
    }
}