{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personneMorale.schema.json",
    "title": "Personne morale",
    "description": "Personne morale en droit français",
    "type": "object",
    "properties": {
        "id" : {
            "title" : "Référence",
            "description" : "Référence de la personne morale",
            "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/reference.schema.json"
        },
        "type" : {
            "title" : "Type de la personne",
            "description" : "Ici une personne morale",            
            "enum" : ["personneMorale"]
        },
        "raisonSociale" : {
            "title" : "Raison sociale",
            "type": "string"
        },
        "marques" : {
            "title" : "Marques",
            "description" : "Liste des marques sous lesquelles peuvent apparaître la personne morale",              
            "type" : "array",
            "items" : {
                "type" : "string"
            }
        },
        "adresseSiegeSocial" : {
            "title" : "Adresse du siège social",
            "description" : "Adresse du siège social", 
            "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/adresse.schema.json"
        },
        "telephones" : {
            "type" : "array",
            "items" : {
                "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/telephone.schema.json"
            } 
        },
        "emails" : {
            "type" : "array",
            "items" : {
                "type" : "string",
                "format" : "email"
            }            
        },
        "contacts" : {
            "type" : "array",
            "items" : {
                "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personnePhysique.schema.json"
            }              
        },
        "formeLegalNiv1" : {
            "title" : "Forme Légale Niveau 1",
            "description" : "voir Description/juridical-forms.csv", 
            "type" : "string"
        },
        "formeLegalNiv2" : {
            "title" : "Forme Légale Niveau 2",
            "description" : "voir Description/juridical-forms.csv", 
            "type" : "string"
        },
        "formeLegalNiv3" : {
            "title" : "Forme Légale Niveau 3",
            "description" : "voir Description/juridical-forms.csv", 
            "type" : "string"
        },
        "representantLegal" : {
            "title" : "Représentant légal",
            "description" : "Le représentant légal est une personne physique ou morale",             
            "required": ["type","titre"],
            "properties" : {
                "titre" : {
                    "title" : "Titre",
                    "description" : "Titre du représentant légal",
                    "type" : "string"
                },
                "oneOf" : [
                    { "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personnePhysique.schema.json" },
                    { "$ref": "https://raw.githubusercontent.com/Blitz-BS/cumfidio/main/json_schema/personneMorale.schema.json" }
                ]
            }
        }
    }
}